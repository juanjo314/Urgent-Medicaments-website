voici des codes pour un formulaire de mail, je te fournis html, javascript et php. pourquoi cela ne fonctionne pas ? 

"<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Urgent Medicaments</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  <script src="JavaScript.js"></script>

  <script src="mail.php"></script><form id="contact-form">
    <label for="name">Nom:</label><br>
    <input type="text" id="name" name="name"><br>
    <label for="email">E-mail:</label><br>
    <input type="text" id="email" name="email"><br>
    <label for="message">Message:</label><br>
    <textarea id="message" name="message" rows="10"></textarea><br>
    <br>
    <button type="submit" id="send-button">Envoyer</button>
  </form> "

"// Ajouter un écouteur d'événement pour soumettre le formulaire de contact
    $('form').submit(function(event) {
      event.preventDefault();
      // Récupérer les données du formulaire
      const formData = $(this).serialize();
      // Envoyer les données du formulaire via AJAX
      $.ajax({
        type: 'POST',
        url: 'mail.php',
        data: formData,
        success: function() {
          // Afficher un message de confirmation lorsque le formulaire est soumis avec succès
          alert('Votre message a été envoyé !');
        }
      });
    });" 

"<?php
// remplacez les valeurs ci-dessous par celles de votre compte Google API
$api_key = "AIzaSyDOj3SJBgGZ6xF1ssMhjU3BgB9kwpkzG3g";
$client_id = "760631460667-0rtt9p67he2pv6h6f3bj6tmad6g74jl5.apps.googleusercontent.com";
$client_secret = "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";
$redirect_uri = "http://127.0.0.1:5500/HTML.html";

$to = "contact.urgent.medicaments@gmail.com";

function sendMessage($access_token, $to, $subject, $message, $headers) {
  // Préparer l'URL de l'API
  $url = "https://www.googleapis.com/gmail/v1/users/me/messages/send";
 
  // Préparer les données à envoyer
  $data = array("raw" => base64_encode("To: $to\nSubject: $subject\n$headers\n\n$message"));

  // Préparer les options de la requête
  $options = array(
    "http" => array(
    "header" => "Authorization: Bearer $access_token\r\nContent-type: application/json",
    "method" => "POST",
    "content" => json_encode($data)
    )
);
// envoyer la requête
$curl = curl_init($url);
    curl_setopt($curl, CURLOPT_POST, true);
    curl_setopt($curl, CURLOPT_HTTPHEADER, array("Authorization: Bearer $access_token", "Content-type: application/json"));
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($curl, CURLOPT_POSTFIELDS, json_encode($data));
    $result = curl_exec($curl);
    curl_close($curl);
if ($result === false) {
// erreur
var_dump($result);
}
else {
// succès
var_dump($result);
}
}

// si le formulaire a été soumis, envoyez l'email
if (isset($_POST['submit'])) {
  // inclure le fichier google-auth.php
  require_once "google-auth.php";
  
  // récupérer l'access token
  $access_token = getAccessToken($api_key, $client_id, $client_secret, $redirect_uri);
  
  // préparer les données à envoyer
  $subject = $_POST['subject'];
  $message = $_POST['message'];
  $headers = "De: " . $_POST['email'];
  // envoyer l'email
  sendMessage($access_token, $to, $subject, $message, $headers);
  }
  // afficher le formulaire
  echo "<form method='post'>";
  echo "Sujet: <input name='subject'><br>";
  echo "Email: <input name='email'><br>";
  echo "Message: <textarea name='message'></textarea><br>";
  echo "<input type='submit' name='submit'>";
  echo "</form>";
  ?>"

et le fichier "google-auth.php" : "<?php
function getAccessToken($api_key, $client_id, $client_secret, $redirect_uri)
{
    // vérifier si un code a été envoyé
    if (isset($_GET['code'])) {
        // préparer l'URL de l'API
        $url = "https://oauth2.googleapis.com/token";

        // préparer les données à envoyer
        $data = [
            "code" => $_GET['code'],
            "client_id" => $client_id,
            "client_secret" => $client_secret,
            "redirect_uri" => $redirect_uri,
            "grant_type" => "authorization_code"
        ];

        // préparer les options de la requête
        $options = [
            "http" => [
                "header" => "Content-type: application/x-www-form-urlencoded",
                "method" => "POST",
                "content" => http_build_query($data)
            ]
        ];

        // envoyer la requête
        $context = stream_context_create($options);
        $result = file_get_contents($url, false, $context);

        // décoder la réponse
        $response = json_decode($result);

        // retourner l'access token
        return $response->access_token;

    
    }
    return null;
}"